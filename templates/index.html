{% extends "base.html" %}

{% block title %}Osu Country Rankings{% endblock %}

{% block nav_title %}Osu Country Rankings{% endblock %}

{% block page_content %}

<!-- <a href="{{ url_for('chart') }}">To chart page.</a> -->

    <table id ="osu_rankings_table" class="rankings_table">
      <!-- <caption>osu country rankings</caption> -->
        <thead>
            <tr>
                {% for key in COUNTRY_RANKINGS_ENTRIES %}
                <th>{{ key | pascal_case }}</th>
                {% endfor %}
            </tr>
        </thead>

        <tbody>
            {% for row in range(data['ranking']|length) %}
            <tr>
                {% for key in COUNTRY_RANKINGS_ENTRIES %}
                    {% if key == 'country_name' %}
                    <td>{{ data[key][row] | pascal_to_spaces }}</td>
                    {% else %}
                    <td>{{ data[key][row] | format_number }}</td>
                    {% endif %}
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>

        </tfoot>
    </table>

</div>

<script>


        $(document).ready(function () {
            $('.rankings_table').DataTable(dataTableConfig);
        });


    // document.addEventListener('DOMContentLoaded', function() {

    //   let table = new DataTable('#osu_rankings_table')

    //     axios.get('/api/country_rankings')
    //         .then( (response) => {
    //             const data = response.data;
    //             const tableBody = document.querySelector('.rankings_table tbody');
               
    //             for (let i in data){
    //                 console.log(i, data[i])
    //             }
            
    //             for (let key of countryRankingsEntries){
    //                     const row = document.createElement('tr');

    //                     for(let value of data[key]){
    //                         const cell = document.createElement('td');
    //                         cell.textContent = value;
    //                     }

    //                     row.appendChild(cell);

    //                 tableBody.appendChild(row);

    //             }
    //         })
    //         .catch( (error) => {
    //             console.error('Error fetching the data', error);
    //         });
    // });

</script>
{% endblock %}

